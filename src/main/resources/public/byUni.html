<!DOCTYPE html>

<html>

<head>
<meta charset='utf-8'>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Choose a University --- Tabadul</title>
<link rel="stylesheet" type="text/css" href="./stylesheets/mainsheet1.css">
<script src="./js/javascript.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

</head>

<body onload="init();">
<a href="index.html" title="Tabadul Book exchange services">
<div class="logo">
<!--Background image of banner taken and changed from amazon.com -->
</div>
</a>
<div class="row SearchBar">
<!--This search input bar design was adapted from http://webdesign.tutsplus.com/tutorials/css-experiments-with-a-search-form-input-and-button- -cms-22069-->
  <div class="col-2 col-m-3 login">
  <div  onclick="location.href='byUni.html';">
  <p class="signin">Browse by</p>
  <p class="createAccount">University</p>
  </div>
  </div>
  <div class="col-8 col-m-6 container-1">
      
      <input type="search" id="search" placeholder="Search..." />
  </div>
  
  <div id="SignIn" class="col-2 col-m-3 login">
  <div >
  <p class="signin">Sign in, Or</p>
  <p class="createAccount">Create Account</p>
  </div>
</div>
</div>

<div class="row">

  <div class="col-4 col-m-5 sign" id="sign">
	<form action="#" method="post">
 <input class='Loginform'  placeholder='Enter Username' type='text' pattern="[A-Za-z]*" title="Name can only include letters" required ><br>
  <input class='Loginform'  placeholder='Enter Password' type='password'	required><br>
  <div class="signinButton"><input type="submit" class="btn" value="Sign In"><a href="myaccount.html" class="btn">Reset Password</a></div>
</form>
<h2><span>OR</span></h2>
<form action="registration.html" method="get">
<div class="createAccountButton"><input type="submit" class="btn" value="Create Account"></div>
</form>
  </div>
 </div>
 <div class="row top" id="beforeContent">
 </div>
<script>
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
        myFunction(xhttp);
    }
};
xhttp.open("GET", "/Universitys", true);
xhttp.send();

function myFunction(xml) {
    var xmlDoc = xml.responseXML;
	var size = xmlDoc.getElementsByTagName('name').length;

	var divBefore="";
	var counter=1;
	for(i=0; i<size; i++){
		if(i == 0){
				var referenceNode = document.getElementById('beforeContent');
				console.log("case i = 0,,,"+ i);
				var div = document.createElement("div");
				div.setAttribute("class", "row");
				div.setAttribute("id", "row"+i);
				divBefore="row"+i;
				referenceNode.parentNode.insertBefore(div, referenceNode.nextSibling);
				var divLeft = document.createElement("div");
				divLeft.setAttribute("class", "col-1 col-m-1 colxmv books left");
				div.appendChild(divLeft);
		}

		console.log("Counter ="+counter+",,,,case i ="+ i);
		var divBook = document.createElement("div");
		divBook.setAttribute("class", "col-u col-m-u colu books 1");
		divBook.setAttribute("id", i);
		div.appendChild(divBook);
		var id = xmlDoc.getElementsByTagName("id")[i].childNodes[0].nodeValue;
		var name = xmlDoc.getElementsByTagName("name")[i].childNodes[0].nodeValue;
		var img = xmlDoc.getElementsByTagName("image")[i].childNodes[0].nodeValue;
		document.getElementById(i).innerHTML =  '<a href="university.html?id='+name+'" ><img src="images/'+img+'"'+
		'alt="'+name+'"><h2>'+name+'</h2></a>';


		if(counter==4){
			console.log("counter 4,,,,,i="+ i);
			var divRight = document.createElement("div");
			divRight.setAttribute("class", "col-1 col-m-1 colxmv books right");
			div.appendChild(divRight);
			var referenceNode = document.getElementById(divBefore);

			var div = document.createElement("div");
			div.setAttribute("class", "row");
			div.setAttribute("id", "row"+i);
			referenceNode.parentNode.insertBefore(div, referenceNode.nextSibling);
			divBefore="row"+i;
			var divLeft = document.createElement("div");
			divLeft.setAttribute("class", "col-1 col-m-1 colxmv books left");
			div.appendChild(divLeft);
			counter=0;
		}
		counter++;
	}
	var divRight = document.createElement("div");
	divRight.setAttribute("class", "col-1 col-m-1 colxmv books right");
	div.appendChild(divRight);

}
        </script>

	
	<div class="row footer">
  <div class="col-6 col-m-6 footerCenter">
		<h2>Tabadul</h2>
		<h3 class="saudihouse">The Saudi House in Pittsburgh</h3>
		<h3 class="saudiemail">saudi.n.pitt@gmail.com</h3>
  </div>
  <div class="col-6 col-m-6 ">
		
		<h3>What is Tabadul?</h3>
		<p>Tabadul (The Arabic word for exchange as this website will provide books exchange services) 
			is a service provided by the Saudi House in Pittsburgh. This service help Saudi students exchange books among each other.</p>
		<h3>Who we are?</h3>
		<p>The Saudi House in Pittsburgh, which is a non-profit organization that act as a supervisory organization to the Saudi Clubs in all the different universities in Pittsburgh, have been serving saudi students and families living in the greater pittsburgh area for years. </p>
  </div>
  </div>
</body>

</html>